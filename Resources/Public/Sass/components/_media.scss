:root {
	--video-ratio: 16 / 9;
}

.video {
	& {
		position: relative;
		display: grid;
	}

	&__source {
		grid-area: 1 / 1;
		opacity: 1;
		z-index: 30;
		cursor: pointer;
		transition: opacity $transition-duration;
	}

	&__play-button {
		grid-area: 1 / 1;
		justify-self: center;
		align-self: center;
		opacity: 0;
		z-index: 40;
		transition: opacity $transition-duration;
	}

	&:hover, &:focus-visible {
		.video__play-button {
			opacity: 1;
			@extend %play-button--active;
		}
	}

	&--played {
		.video__play-button {
			@extend %play-button--paused;
		}
	}

	&--ratio-16-9 {
		--video-ratio: 16 / 9;
	}

	&--ratio-16-9 {
		& {
			aspect-ratio: var(--video-ratio);
			overflow: hidden;
		}

		.video__source {
			position: absolute;
			top: -2px; left: -2px;
			width: calc(100% + 4px);
			height: calc(100% + 4px);
			object-fit: cover;
		}
	}

	&--preview-image {
		& {
			cursor: pointer;
		}

		&:hover, &:focus-visible {
			.video__preview-play-button {
				@extend %play-button--active;
			}
		}

		.video__source,
		.video__play-button {
			opacity: 0;
		}
	}
}

.video__preview {
	& {
		position: absolute;
		top: 0; left: 0;
		width: 100%;
		height: 100%;
		z-index: 10;
		display: grid;
	}

	&-image {
		& {
			display: block;
			grid-area: 1 / 1;
			z-index: 15;
			aspect-ratio: var(--video-ratio);
		}

		img {
			display: block;
			max-width: 100%;
			max-height: 100%;
			object-fit: cover;
		}
	}

	&-play-button {
		grid-area: 1 / 1;
		justify-self: center;
		align-self: center;
		z-index: 20;
	}
}